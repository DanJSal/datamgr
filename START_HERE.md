# datamgr — Context & Starting Instructions

## 1) Context

**What this repo is:**  
We’re rebuilding **datamgr** from the ground up, replacing a legacy codebase with a clean, spec-driven design. The intent is to preserve the *useful ideas* from the legacy version while enforcing clearer boundaries, deterministic identities, and robust handling of jagged/structured data.

**How the docs fit together:**
- `SPEC.md` — the **authoritative design**. It defines scope, principles, invariants, and the separation of concerns across `core/`, `storage/`, `services/`, `api/`, and `util/`. Treat it as the source of truth for interfaces and behavior (don’t duplicate its goals here).
- `LEGACY_NOTES.md` — **orientation notes** for the old implementation. It maps legacy concepts and anchors to spec areas so you can mine prior art without importing accidental behaviors.
- `PROGRESS.md` — the **status board**. It tracks per-file status (`pending → skeleton → impl → tested → docs`), recent notes, and the Current/Next work queues. It also includes a **CLI Reference** for updating status and lists.

**Repo browsing (HTML link hub):**  
The file index is generated by `tools/repo_index.py` during CI and published via GitHub Pages from `docs/index.html`. Links are **permalinks** (pinned to each commit SHA), so the hub always reflects a concrete snapshot.

**Push practices (and `[skip-index]`):**
- Normal pushes to `main` run the **Actions-based Pages** workflow, which rebuilds and deploys the HTML link hub. Expect ~1–3 minutes end-to-end.
- Include **`[skip-index]`** in your commit message when you *don’t* need the index refreshed; the workflow will **skip the build/deploy**, and the site will continue to serve the previous build.
- Avoid rewriting `main` history so existing permalinks continue to work.

---

## 2) Starting Instructions

1. **Read `SPEC.md`** — the *Intro*, *Table of Contents*, and:
   - **§1. Core Principles & Non-Goals**
   - **§2. Repository Layout & Build Order**

2. **Read `LEGACY_NOTES.md`** — the *Intro* and:
   - **§0. Map: SPEC areas → legacy anchors** (use this when consulting old code/ideas)

3. **Read `PROGRESS.md`** end-to-end, and pay special attention to:
   - **CLI Reference** (how statuses/notes are updated)
   - **Current** / **Next** sections (your immediate targets)

